{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"FusionInsight HD\u6d4b\u8bd5\u5de5\u5177\u6c47\u603b \u00b6 \u534e\u4e3aFusionInsight HD\u652f\u6301\u5f00\u6e90\u6807\u51c6\u7684Hadoop\u63a5\u53e3\uff0c\u517c\u5bb9\u5f00\u6e90\u7684Hadoop\u6d4b\u8bd5\u5de5\u5177\uff0c\u56e0\u90e8\u5206\u5f00\u6e90\u5de5\u5177\u672a\u8003\u8651\u5b89\u5168\u8ba4\u8bc1\uff0c\u6545\u7ed9\u51fa\u5f00\u6e90\u5de5\u5177\u9002\u914d\u534e\u4e3aFI HD\u96c6\u7fa4\u7684\u6d4b\u8bd5\u64cd\u4f5c\u6307\u5bfc\uff01 \u4f7f\u7528maven\u6784\u5efa\u7684\u4f9d\u8d56\u5305\u4e0b\u8f7d\u5730\u5740\u4e3a [6.5.1maven\u6e90] \uff0c\u4e0b\u8f7d\u540e\u8986\u76d6\u672c\u5730maven\u4ed3\u5e93\u5373\u53ef\uff01 \u534e\u4e3a\u5927\u6570\u636e\u5e73\u53f0\u63a8\u8350\u5b66\u4e60\u89c6\u9891\u8bfe\u7a0b\uff1a [\u4f20\u9001\u95e8] \u6587\u4ef6\u5b8c\u6574\u6027MD5\u6821\u9a8c\u65b9\u6cd5 \u5728windows\u73af\u5883\u4e2d\u7684cmd\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528\uff1a certutil -hashfile [\u5f85\u68c0\u6d4b\u6587\u4ef6\u7edd\u5bf9\u8def\u5f84] MD5 \u5728linux\u73af\u5883\u4e2d\u7684\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528\uff1a md5sum [\u5f85\u68c0\u6d4b\u6587\u4ef6\u7edd\u5bf9\u8def\u5f84] \u6d4b\u8bd5\u5de5\u5177 FusionInsight \u7ec4\u4ef6\u540d\u79f0 \u5de5\u5177\u540d\u79f0 \u5de5\u5177\u4ecb\u7ecd \u6d4b\u8bd5\u573a\u666f FI\u7248\u672c\uff1a6.5.1\uff0c\u5bf9\u5e94 [\u5f00\u6e90\u7248\u672c] \u5b89\u5168\u96c6\u7fa4 \u666e\u901a\u96c6\u7fa4 HDFS NNBench [\u5de5\u5177\u4ecb\u7ecd] NameNode\u968f\u673a\u5199\u6027\u80fd \u64cd\u4f5c\u6307\u5bfc \u672a \u9a8c\u8bc1 NameNode\u968f\u673a\u8bfb\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 TestDFSIO [\u5de5\u5177\u4ecb\u7ecd] DataNode\u968f\u673a\u5199\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 DataNode\u968f\u673a\u8bfb\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 MapReduce HiBench [\u5de5\u5177\u4ecb\u7ecd] [\u5de5\u5177\u4e0b\u8f7d] TeraSort \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 WordCount \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 \u8d1d\u53f6\u65af\u5206\u7c7b(Bayes) \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 K\u5747\u503c\u805a\u7c7b(Kmeans) \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 Hive TPC-DS [\u5de5\u5177\u4ecb\u7ecd] [FI\u5de5\u5177\u4e0b\u8f7d] hive-testbench\u6d4b\u8bd5\u901a\u7528SQL \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 HBase PerformanceEvaluation [\u5de5\u5177\u4ecb\u7ecd] [FI\u5de5\u5177\u4e0b\u8f7d] HBase\u6e90\u7801\u81ea\u5e26\u6d4b\u8bd5\u5de5\u5177 \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 YCSB [\u5de5\u5177\u4ecb\u7ecd] [FI\u5de5\u5177\u4e0b\u8f7d] \u96c5\u864e\u6d4b\u8bd5\u5de5\u5177 \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 bulkload [\u5de5\u5177\u4ecb\u7ecd] [FI\u5de5\u5177\u4e0b\u8f7d] \u79bb\u7ebf\u6570\u636e\u6279\u91cf\u5165\u5e93\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 Spark2X HiBench [\u5de5\u5177\u4ecb\u7ecd] [FI\u5de5\u5177\u4e0b\u8f7d] HadoopWordCount\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 TPC-DS [\u5de5\u5177\u4ecb\u7ecd] [FI\u5de5\u5177\u4e0b\u8f7d] \u901a\u7528SQL\u67e5\u8be2\u6d4b\u8bd5 \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 StructuredStreaming [FI\u5de5\u5177\u4e0b\u8f7d] \u6d41\u5f0f\u67e5\u8be2\u6027\u80fd\u6d4b\u8bd5 \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 Kafka \u81ea\u5e26\u811a\u672c\u6d4b\u8bd5 [FI\u5de5\u5177\u4e0b\u8f7d] \u751f\u4ea7\u3001\u6d88\u8d39\u6027\u80fd\u6d4b\u8bd5 \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 Storm HiBench6.0 [\u5de5\u5177\u4ecb\u7ecd] [FI\u5de5\u5177\u4e0b\u8f7d] WordCount\u6a21\u5f0f\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 fixwindow\u6a21\u5f0f\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 identity\u6a21\u5f0f\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 Redis \u534e\u4e3a\u81ea\u7814\u5de5\u5177 [FI\u5de5\u5177\u4e0b\u8f7d] \u6570\u636e\u7c7b\u578bString\u8bfb\u5199\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 \u6570\u636e\u7c7b\u578bHash\u8bfb\u5199\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 \u6570\u636e\u7c7b\u578bList\u8bfb\u5199\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 Flink Streaming Benchmark [\u5de5\u5177\u4ecb\u7ecd] \u541e\u5410\u91cf\u6027\u80fd\u6d4b\u8bd5 \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 Solr \u534e\u4e3a\u81ea\u7814\u5de5\u5177 [\u5de5\u5177\u4ecb\u7ecd] \u5165\u5e93\u3001\u67e5\u8be2\u6027\u80fd\u6d4b\u8bd5 \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 ElasticSearch \u534e\u4e3a\u81ea\u7814esarrayGA [\u5de5\u5177\u4ecb\u7ecd] \u5165\u5e93\u3001\u67e5\u8be2\u6027\u80fd\u6d4b\u8bd5 \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1","title":"Home"},{"location":"#fusioninsight-hd","text":"\u534e\u4e3aFusionInsight HD\u652f\u6301\u5f00\u6e90\u6807\u51c6\u7684Hadoop\u63a5\u53e3\uff0c\u517c\u5bb9\u5f00\u6e90\u7684Hadoop\u6d4b\u8bd5\u5de5\u5177\uff0c\u56e0\u90e8\u5206\u5f00\u6e90\u5de5\u5177\u672a\u8003\u8651\u5b89\u5168\u8ba4\u8bc1\uff0c\u6545\u7ed9\u51fa\u5f00\u6e90\u5de5\u5177\u9002\u914d\u534e\u4e3aFI HD\u96c6\u7fa4\u7684\u6d4b\u8bd5\u64cd\u4f5c\u6307\u5bfc\uff01 \u4f7f\u7528maven\u6784\u5efa\u7684\u4f9d\u8d56\u5305\u4e0b\u8f7d\u5730\u5740\u4e3a [6.5.1maven\u6e90] \uff0c\u4e0b\u8f7d\u540e\u8986\u76d6\u672c\u5730maven\u4ed3\u5e93\u5373\u53ef\uff01 \u534e\u4e3a\u5927\u6570\u636e\u5e73\u53f0\u63a8\u8350\u5b66\u4e60\u89c6\u9891\u8bfe\u7a0b\uff1a [\u4f20\u9001\u95e8] \u6587\u4ef6\u5b8c\u6574\u6027MD5\u6821\u9a8c\u65b9\u6cd5 \u5728windows\u73af\u5883\u4e2d\u7684cmd\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528\uff1a certutil -hashfile [\u5f85\u68c0\u6d4b\u6587\u4ef6\u7edd\u5bf9\u8def\u5f84] MD5 \u5728linux\u73af\u5883\u4e2d\u7684\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528\uff1a md5sum [\u5f85\u68c0\u6d4b\u6587\u4ef6\u7edd\u5bf9\u8def\u5f84] \u6d4b\u8bd5\u5de5\u5177 FusionInsight \u7ec4\u4ef6\u540d\u79f0 \u5de5\u5177\u540d\u79f0 \u5de5\u5177\u4ecb\u7ecd \u6d4b\u8bd5\u573a\u666f FI\u7248\u672c\uff1a6.5.1\uff0c\u5bf9\u5e94 [\u5f00\u6e90\u7248\u672c] \u5b89\u5168\u96c6\u7fa4 \u666e\u901a\u96c6\u7fa4 HDFS NNBench [\u5de5\u5177\u4ecb\u7ecd] NameNode\u968f\u673a\u5199\u6027\u80fd \u64cd\u4f5c\u6307\u5bfc \u672a \u9a8c\u8bc1 NameNode\u968f\u673a\u8bfb\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 TestDFSIO [\u5de5\u5177\u4ecb\u7ecd] DataNode\u968f\u673a\u5199\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 DataNode\u968f\u673a\u8bfb\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 MapReduce HiBench [\u5de5\u5177\u4ecb\u7ecd] [\u5de5\u5177\u4e0b\u8f7d] TeraSort \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 WordCount \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 \u8d1d\u53f6\u65af\u5206\u7c7b(Bayes) \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 K\u5747\u503c\u805a\u7c7b(Kmeans) \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 Hive TPC-DS [\u5de5\u5177\u4ecb\u7ecd] [FI\u5de5\u5177\u4e0b\u8f7d] hive-testbench\u6d4b\u8bd5\u901a\u7528SQL \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 HBase PerformanceEvaluation [\u5de5\u5177\u4ecb\u7ecd] [FI\u5de5\u5177\u4e0b\u8f7d] HBase\u6e90\u7801\u81ea\u5e26\u6d4b\u8bd5\u5de5\u5177 \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 YCSB [\u5de5\u5177\u4ecb\u7ecd] [FI\u5de5\u5177\u4e0b\u8f7d] \u96c5\u864e\u6d4b\u8bd5\u5de5\u5177 \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 bulkload [\u5de5\u5177\u4ecb\u7ecd] [FI\u5de5\u5177\u4e0b\u8f7d] \u79bb\u7ebf\u6570\u636e\u6279\u91cf\u5165\u5e93\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 Spark2X HiBench [\u5de5\u5177\u4ecb\u7ecd] [FI\u5de5\u5177\u4e0b\u8f7d] HadoopWordCount\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 TPC-DS [\u5de5\u5177\u4ecb\u7ecd] [FI\u5de5\u5177\u4e0b\u8f7d] \u901a\u7528SQL\u67e5\u8be2\u6d4b\u8bd5 \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 StructuredStreaming [FI\u5de5\u5177\u4e0b\u8f7d] \u6d41\u5f0f\u67e5\u8be2\u6027\u80fd\u6d4b\u8bd5 \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 Kafka \u81ea\u5e26\u811a\u672c\u6d4b\u8bd5 [FI\u5de5\u5177\u4e0b\u8f7d] \u751f\u4ea7\u3001\u6d88\u8d39\u6027\u80fd\u6d4b\u8bd5 \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 Storm HiBench6.0 [\u5de5\u5177\u4ecb\u7ecd] [FI\u5de5\u5177\u4e0b\u8f7d] WordCount\u6a21\u5f0f\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 fixwindow\u6a21\u5f0f\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 identity\u6a21\u5f0f\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 Redis \u534e\u4e3a\u81ea\u7814\u5de5\u5177 [FI\u5de5\u5177\u4e0b\u8f7d] \u6570\u636e\u7c7b\u578bString\u8bfb\u5199\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 \u6570\u636e\u7c7b\u578bHash\u8bfb\u5199\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 \u6570\u636e\u7c7b\u578bList\u8bfb\u5199\u6027\u80fd \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 Flink Streaming Benchmark [\u5de5\u5177\u4ecb\u7ecd] \u541e\u5410\u91cf\u6027\u80fd\u6d4b\u8bd5 \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 Solr \u534e\u4e3a\u81ea\u7814\u5de5\u5177 [\u5de5\u5177\u4ecb\u7ecd] \u5165\u5e93\u3001\u67e5\u8be2\u6027\u80fd\u6d4b\u8bd5 \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1 ElasticSearch \u534e\u4e3a\u81ea\u7814esarrayGA [\u5de5\u5177\u4ecb\u7ecd] \u5165\u5e93\u3001\u67e5\u8be2\u6027\u80fd\u6d4b\u8bd5 \u5f85\u9a8c\u8bc1 \u5f85\u9a8c\u8bc1","title":"FusionInsight HD\u6d4b\u8bd5\u5de5\u5177\u6c47\u603b"},{"location":"apache-version/","text":"\u7ec4\u4ef6\u540d\u79f0 \u5f00\u6e90\u7248\u672c Hadoop 3.1.1 Hive 3.1.0 HBase 1.3.1 Flink 1.7.2 Flume 1.9.0 Hue 3.11.0 Kafka 2.11-1.1.0 Ooize 4.2.0 Redis 5.0.4 Solr 6.2.0 Spark2X 2.3.2 Storm 1.0.2 Zookeeper 3.5.1 ElasticSearch 6.7.1","title":"Apache version"},{"location":"fusioninsight_client/","text":"FusionInsight HD\u5ba2\u6237\u7aef\u5b89\u88c5 \u00b6 ** \u8bf4\u660e\uff1a \u5ba2\u6237\u7aef\u7528\u4e8e\u6267\u884cshell\u547d\u4ee4","title":"FusionInsight HD\u5ba2\u6237\u7aef\u5b89\u88c5"},{"location":"fusioninsight_client/#fusioninsight-hd","text":"** \u8bf4\u660e\uff1a \u5ba2\u6237\u7aef\u7528\u4e8e\u6267\u884cshell\u547d\u4ee4","title":"FusionInsight HD\u5ba2\u6237\u7aef\u5b89\u88c5"},{"location":"HDFS/NNBench/NNBench_introduction/","text":"NNBench\u5de5\u5177\u4ecb\u7ecd \u00b6 1. \u7b80\u4ecb \u00b6 NNBench \u5de5\u5177\u4e3aHadoop\u6e90\u7801\u4e2d\u81ea\u5e26\u7684\u4e00\u79cd\u6d4b\u8bd5\u5de5\u5177\uff0c\u53ef\u4ee5\u901a\u8fc7\u6e90\u7801\u6784\u5efa\u83b7\u5f97\uff0c\u5de5\u5177\u540d\u79f0\u4e00\u822c\u4e3a hadoop-mapreduce-client-jobclient-[\u7248\u672c\u53f7]-test.jar \u3002 \u5f00\u6e90hadoop\u6e90\u7801\u5730\u5740\uff1a https://github.com/apache/hadoop \u5f00\u6e90\u7f16\u8bd1\u6784\u5efa\u8fc7\u7a0b\u53ef\u53c2\u8003\uff1a https://www.cnblogs.com/bclshuai/p/12009991.html NNBench\u5de5\u5177\u7528\u4e8e\u6d4b\u8bd5HDFS\u7684Namenode\u7684\u80fd\u529b\u3002 2. \u4f7f\u7528\u6307\u5bfc \u00b6 2.1 \u547d\u4ee4\u884c\u53c2\u6570 \u00b6 \u8be5\u5de5\u5177\u901a\u8fc7\u547d\u4ee4\u884c\u5f62\u5f0f\u4f7f\u7528\uff0c\u4f7f\u7528\u53c2\u8003\uff1a # hadoop jar /opt/client/HDFS/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.1.1-tests.jar nnbench NameNode Benchmark 0 .4 Usage: nnbench <options> Options: -operation <Available operations are create_write open_read rename delete. This option is mandatory> * NOTE: The open_read, rename and delete operations assume that the files they operate on, are already available. The create_write operation must be run before running the other operations. -maps <number of maps. default is 1 . This is not mandatory> -reduces <number of reduces. default is 1 . This is not mandatory> -startTime < time to start, given in seconds from the epoch. Make sure this is far enough into the future, so all maps ( operations ) will start at the same time. default is launch time + 2 mins. This is not mandatory> -blockSize <Block size in bytes. default is 1 . This is not mandatory> -bytesToWrite <Bytes to write. default is 0 . This is not mandatory> -bytesPerChecksum <Bytes per checksum for the files. default is 1 . This is not mandatory> -numberOfFiles <number of files to create. default is 1 . This is not mandatory> -replicationFactorPerFile <Replication factor for the files. default is 1 . This is not mandatory> -baseDir <base DFS path. default is /benchmarks/NNBench. This is not mandatory> -readFileAfterOpen < true or false. if true, it reads the file and reports the average time to read. This is valid with the open_read operation. default is false. This is not mandatory> -help: Display the help statement -operation [\u5fc5\u6709\u53c2\u6570]\u53ef\u9009 create_write open_read rename delete -maps [\u53ef\u9009\u53c2\u6570] -reduces -blockSize -bytesToWrite -bytesPerChecksum -numberOfFiles -replicationFactorPerFile -baseDir -readFileAfterOpen 2.2 \u5904\u7406\u903b\u8f91 \u00b6 \u8f93\u5165\u68c0\u67e5\u662f\u5426\u5408\u6cd5 cleanupBeforeTestrun \u5220\u9664\u5df2\u6709\u7684\u57fa\u4e8e-baseDir\u7684\u6570\u636e createControlFiles \u751f\u6210\u63a7\u5236\u6587\u4ef6\u57fa\u4e8ebaseDir/CONTROL_DIR_NAME/NNBench_Controlfile_i(numberOfMaps) \u6267\u884cmapper\u7684\u65f6\u5019\u57fa\u4e8econtrolfile\u751f\u6210mapper\u4e2a\u6570\uff0c\u6bcf\u4e2amapper\u57fa\u4e8eoperation \u8fdb\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\uff0c\u5982doCreateWriteOp\u6bcf\u4e2amapper\u53c8\u57fa\u4e8enumberOfFiles\u751f\u6210numberOfFiles\u4e2a\u6587\u4ef6 \u6267\u884creducer\u65f6\u5199\u5165\u7edf\u8ba1\u7684\u4fe1\u606f \u5bf9\u5199\u5165\u7684\u7edf\u8ba1\u4fe1\u606f\u505a\u5206\u6790\u51faresult 3. \u53c2\u8003 \u00b6","title":"NNBench\u5de5\u5177\u4ecb\u7ecd"},{"location":"HDFS/NNBench/NNBench_introduction/#nnbench","text":"","title":"NNBench\u5de5\u5177\u4ecb\u7ecd"},{"location":"HDFS/NNBench/NNBench_introduction/#1","text":"NNBench \u5de5\u5177\u4e3aHadoop\u6e90\u7801\u4e2d\u81ea\u5e26\u7684\u4e00\u79cd\u6d4b\u8bd5\u5de5\u5177\uff0c\u53ef\u4ee5\u901a\u8fc7\u6e90\u7801\u6784\u5efa\u83b7\u5f97\uff0c\u5de5\u5177\u540d\u79f0\u4e00\u822c\u4e3a hadoop-mapreduce-client-jobclient-[\u7248\u672c\u53f7]-test.jar \u3002 \u5f00\u6e90hadoop\u6e90\u7801\u5730\u5740\uff1a https://github.com/apache/hadoop \u5f00\u6e90\u7f16\u8bd1\u6784\u5efa\u8fc7\u7a0b\u53ef\u53c2\u8003\uff1a https://www.cnblogs.com/bclshuai/p/12009991.html NNBench\u5de5\u5177\u7528\u4e8e\u6d4b\u8bd5HDFS\u7684Namenode\u7684\u80fd\u529b\u3002","title":"1. \u7b80\u4ecb"},{"location":"HDFS/NNBench/NNBench_introduction/#2","text":"","title":"2. \u4f7f\u7528\u6307\u5bfc"},{"location":"HDFS/NNBench/NNBench_introduction/#21","text":"\u8be5\u5de5\u5177\u901a\u8fc7\u547d\u4ee4\u884c\u5f62\u5f0f\u4f7f\u7528\uff0c\u4f7f\u7528\u53c2\u8003\uff1a # hadoop jar /opt/client/HDFS/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.1.1-tests.jar nnbench NameNode Benchmark 0 .4 Usage: nnbench <options> Options: -operation <Available operations are create_write open_read rename delete. This option is mandatory> * NOTE: The open_read, rename and delete operations assume that the files they operate on, are already available. The create_write operation must be run before running the other operations. -maps <number of maps. default is 1 . This is not mandatory> -reduces <number of reduces. default is 1 . This is not mandatory> -startTime < time to start, given in seconds from the epoch. Make sure this is far enough into the future, so all maps ( operations ) will start at the same time. default is launch time + 2 mins. This is not mandatory> -blockSize <Block size in bytes. default is 1 . This is not mandatory> -bytesToWrite <Bytes to write. default is 0 . This is not mandatory> -bytesPerChecksum <Bytes per checksum for the files. default is 1 . This is not mandatory> -numberOfFiles <number of files to create. default is 1 . This is not mandatory> -replicationFactorPerFile <Replication factor for the files. default is 1 . This is not mandatory> -baseDir <base DFS path. default is /benchmarks/NNBench. This is not mandatory> -readFileAfterOpen < true or false. if true, it reads the file and reports the average time to read. This is valid with the open_read operation. default is false. This is not mandatory> -help: Display the help statement -operation [\u5fc5\u6709\u53c2\u6570]\u53ef\u9009 create_write open_read rename delete -maps [\u53ef\u9009\u53c2\u6570] -reduces -blockSize -bytesToWrite -bytesPerChecksum -numberOfFiles -replicationFactorPerFile -baseDir -readFileAfterOpen","title":"2.1 \u547d\u4ee4\u884c\u53c2\u6570"},{"location":"HDFS/NNBench/NNBench_introduction/#22","text":"\u8f93\u5165\u68c0\u67e5\u662f\u5426\u5408\u6cd5 cleanupBeforeTestrun \u5220\u9664\u5df2\u6709\u7684\u57fa\u4e8e-baseDir\u7684\u6570\u636e createControlFiles \u751f\u6210\u63a7\u5236\u6587\u4ef6\u57fa\u4e8ebaseDir/CONTROL_DIR_NAME/NNBench_Controlfile_i(numberOfMaps) \u6267\u884cmapper\u7684\u65f6\u5019\u57fa\u4e8econtrolfile\u751f\u6210mapper\u4e2a\u6570\uff0c\u6bcf\u4e2amapper\u57fa\u4e8eoperation \u8fdb\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\uff0c\u5982doCreateWriteOp\u6bcf\u4e2amapper\u53c8\u57fa\u4e8enumberOfFiles\u751f\u6210numberOfFiles\u4e2a\u6587\u4ef6 \u6267\u884creducer\u65f6\u5199\u5165\u7edf\u8ba1\u7684\u4fe1\u606f \u5bf9\u5199\u5165\u7684\u7edf\u8ba1\u4fe1\u606f\u505a\u5206\u6790\u51faresult","title":"2.2 \u5904\u7406\u903b\u8f91"},{"location":"HDFS/NNBench/NNBench_introduction/#3","text":"","title":"3. \u53c2\u8003"},{"location":"HDFS/NNBench/NameNodeRandomWrite_6.5.1_Sec/","text":"NameNode\u968f\u673a\u5199\u6027\u80fd\u6d4b\u8bd5 \u00b6 1. \u652f\u6301\u7248\u672c \u00b6 FusionInsight HD 6.5.1 2. \u5de5\u5177\u4e0b\u8f7d \u00b6 \u56e0\u6d89\u53ca\u6e90\u7801\u7f16\u8bd1\uff0c\u9700\u8c03\u7528\u5b9e\u9645\u6e90\u7801\uff0c\u8fc7\u7a0b\u6bd4\u8f83\u590d\u6742\uff0c\u6545\u8be5\u5de5\u5177\u7ed9\u51fa\u76f4\u63a5\u4e0b\u8f7d\u94fe\u63a5\uff1a \u30106.5.1\u5de5\u5177\u4e0b\u8f7d\u94fe\u63a5\u3011 \u6821\u9a8cmd5: 9b301864b41909b67b80d8f59d74ef32 hdfs-6.5.1.zip 3. \u6d4b\u8bd5\u6b65\u9aa4 \u00b6 3.1 \u524d\u7f6e\u6761\u4ef6 \u00b6 FI\u96c6\u7fa4\u5b89\u88c5\u4e3a\u5b89\u5168\u6a21\u5f0f\uff0c\u4e14\u8fd0\u884c\u6b63\u5e38 HDFS\u3001MapReduce\u3001Yarn\u670d\u52a1\u6b63\u5e38 \u5df2\u4e8elinux\u73af\u5883\u5b89\u88c5\u96c6\u7fa4\u5ba2\u6237\u7aef\uff0c\u5ba2\u6237\u7aef\u5b89\u88c5 [\u6b65\u9aa4\u53c2\u8003] \u5df2\u914d\u7f6e\u5177\u6709HDFS\\Yarn\u8bbf\u95ee\u6743\u9650\u7684\u7528\u6237\uff0c\u4f8b\u5982\u7528\u6237\u540dpoc\uff0c\u5e76\u5bf9poc\u7528\u6237\u6709\u5bf9\u5e94\u7684Yarn\u8d44\u6e90\u5206\u914d 3.2 \u6d4b\u8bd5\u8fc7\u7a0b \u00b6 \u3010\u53ef\u9009\u3011\u53c2\u8003\u4ea7\u54c1\u6587\u6863\u4e2d\u201d\u89c4\u5212HDFS\u5bb9\u91cf\u201c\u90e8\u5206\uff0c\u4fee\u6539GC_OPTS\u7684\u53c2\u6570\uff1b \u4fee\u6539HDFS\u5982\u4e0b\u914d\u7f6e\u9879\uff0c\u91cd\u542f\u670d\u52a1 dfs.namenode.handler.count : 512 dfs.datanode.handler.count : 128 ipc.server.handler.queue.size : 200 dfs.namenode.fs-limits.max-directory-items : 6400000 3. \u4fee\u6539Yarn\u914d\u7f6e\u9879\uff0c\u91cd\u542f\u670d\u52a1 yarn.nodemanager.resource.cpu-vcores \u6839\u636e\u5b9e\u9645\u8282\u70b9\u7684CPU\u6838\u6570\u4fee\u6539 yarn.nodemanager.resource.memory-mb \u6839\u636e\u5b9e\u9645\u8282\u70b9\u7684\u5185\u5b58\u4fee\u6539 4. \u4fee\u6539\u79df\u6237\u8d44\u6e90\u6c60\u4e2d\u914d\u7f6e\u7684 Maximum AM Resource Percent \u4e3a 0.9 5. \u5c06\u6d4b\u8bd5\u5de5\u5177\u89e3\u538b\u7f29\u540e\u4e0a\u4f20\u5230\u5ba2\u6237\u7aef\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u5b89\u88c5\u5728 /opt/client \u76ee\u5f55\u4e0b\uff0c\u90a3\u4e48\u5de5\u5177\u4e0a\u4f20\u7684\u8def\u5f84\u4e3a /opt/client/HDFS/hadoop/share/hadoop/mapreduce/ \u76ee\u5f55\u4e0b 6. \u6267\u884c\u5b89\u5168\u8ba4\u8bc1 source /opt/client/bigdata_env kinit pc 7. \u542f\u52a8\u6d4b\u8bd5 yarn jar /opt/client/HDFS/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.1.1-tests.jar nnbench \\ -operation create_write \\ -maps 10 \\ -reduces 2 \\ -bytesToWrite 1 \\ -numberOfFiles 100 \\ -blockSize 1048576 \\ -replicationFactorPerFile 3 \\ -readFileAfterOpen true \\ -baseDir /benchmarks1/NNBench \u53c2\u6570\u8bf4\u660e\uff1a -maps \u6307\u5b9aMR\u4efb\u52a1\u7684map\u6570\uff0c\u5fc5\u987b\u4fdd\u8bc1map\u6570\u90fd\u5728\u540c\u4e00\u8f6e\u5e76\u53d1\u4e2d\uff0c\u5426\u5219\u7ed3\u679c\u8ba1\u7b97\u6709\u8bef -reduces \u6307\u5b9aMR\u4efb\u52a1\u7684reduce\u6570\uff0c\u7ed3\u679c\u6c47\u603b\uff0c\u53ef\u5199\u4e00\u4e2a\u6bd4\u8f83\u5c0f\u7684\u6570\u5b57\uff0c\u4e0d\u5f71\u54cd\u7ed3\u679c -bytesToWrite \u521b\u5efa\u6587\u4ef6\u7684\u5b9e\u9645\u5927\u5c0f -numberOfFiles \u6bcf\u4e2amap\u4efb\u52a1\u521b\u5efa\u7684\u6587\u4ef6\u6570 -blockSize \u6587\u4ef6\u5757\u7684\u5927\u5c0f\uff0c\u9ed8\u8ba4\u662f128MB\uff0c\u8fd9\u91cc\u53d61048576\u5b57\u8282\u4e3a1MB -replicationFactorPerFile \u6587\u4ef6\u526f\u672c\u6570 -readFileAfterOpen \u662f\u5426\u8bfb\u53d6\u6587\u4ef6 -baseDir \u521b\u5efa\u7684HDFS\u4e0a\u7684\u8def\u5f84 3.3 \u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c \u00b6 \u6d4b\u8bd5\u5b8c\u6bd5\uff0c\u53c2\u8003\u5f53\u524d\u76ee\u5f55\u4e0b\u7684 NNBench_results.log \u5185\u5bb9\u83b7\u53d6Namenode\u5904\u7406\u6027\u80fd\u6570\u636e","title":"NameNode\u968f\u673a\u5199\u6027\u80fd[\u5b89\u5168]"},{"location":"HDFS/NNBench/NameNodeRandomWrite_6.5.1_Sec/#namenode","text":"","title":"NameNode\u968f\u673a\u5199\u6027\u80fd\u6d4b\u8bd5"},{"location":"HDFS/NNBench/NameNodeRandomWrite_6.5.1_Sec/#1","text":"FusionInsight HD 6.5.1","title":"1. \u652f\u6301\u7248\u672c"},{"location":"HDFS/NNBench/NameNodeRandomWrite_6.5.1_Sec/#2","text":"\u56e0\u6d89\u53ca\u6e90\u7801\u7f16\u8bd1\uff0c\u9700\u8c03\u7528\u5b9e\u9645\u6e90\u7801\uff0c\u8fc7\u7a0b\u6bd4\u8f83\u590d\u6742\uff0c\u6545\u8be5\u5de5\u5177\u7ed9\u51fa\u76f4\u63a5\u4e0b\u8f7d\u94fe\u63a5\uff1a \u30106.5.1\u5de5\u5177\u4e0b\u8f7d\u94fe\u63a5\u3011 \u6821\u9a8cmd5: 9b301864b41909b67b80d8f59d74ef32 hdfs-6.5.1.zip","title":"2. \u5de5\u5177\u4e0b\u8f7d"},{"location":"HDFS/NNBench/NameNodeRandomWrite_6.5.1_Sec/#3","text":"","title":"3. \u6d4b\u8bd5\u6b65\u9aa4"},{"location":"HDFS/NNBench/NameNodeRandomWrite_6.5.1_Sec/#31","text":"FI\u96c6\u7fa4\u5b89\u88c5\u4e3a\u5b89\u5168\u6a21\u5f0f\uff0c\u4e14\u8fd0\u884c\u6b63\u5e38 HDFS\u3001MapReduce\u3001Yarn\u670d\u52a1\u6b63\u5e38 \u5df2\u4e8elinux\u73af\u5883\u5b89\u88c5\u96c6\u7fa4\u5ba2\u6237\u7aef\uff0c\u5ba2\u6237\u7aef\u5b89\u88c5 [\u6b65\u9aa4\u53c2\u8003] \u5df2\u914d\u7f6e\u5177\u6709HDFS\\Yarn\u8bbf\u95ee\u6743\u9650\u7684\u7528\u6237\uff0c\u4f8b\u5982\u7528\u6237\u540dpoc\uff0c\u5e76\u5bf9poc\u7528\u6237\u6709\u5bf9\u5e94\u7684Yarn\u8d44\u6e90\u5206\u914d","title":"3.1 \u524d\u7f6e\u6761\u4ef6"},{"location":"HDFS/NNBench/NameNodeRandomWrite_6.5.1_Sec/#32","text":"\u3010\u53ef\u9009\u3011\u53c2\u8003\u4ea7\u54c1\u6587\u6863\u4e2d\u201d\u89c4\u5212HDFS\u5bb9\u91cf\u201c\u90e8\u5206\uff0c\u4fee\u6539GC_OPTS\u7684\u53c2\u6570\uff1b \u4fee\u6539HDFS\u5982\u4e0b\u914d\u7f6e\u9879\uff0c\u91cd\u542f\u670d\u52a1 dfs.namenode.handler.count : 512 dfs.datanode.handler.count : 128 ipc.server.handler.queue.size : 200 dfs.namenode.fs-limits.max-directory-items : 6400000 3. \u4fee\u6539Yarn\u914d\u7f6e\u9879\uff0c\u91cd\u542f\u670d\u52a1 yarn.nodemanager.resource.cpu-vcores \u6839\u636e\u5b9e\u9645\u8282\u70b9\u7684CPU\u6838\u6570\u4fee\u6539 yarn.nodemanager.resource.memory-mb \u6839\u636e\u5b9e\u9645\u8282\u70b9\u7684\u5185\u5b58\u4fee\u6539 4. \u4fee\u6539\u79df\u6237\u8d44\u6e90\u6c60\u4e2d\u914d\u7f6e\u7684 Maximum AM Resource Percent \u4e3a 0.9 5. \u5c06\u6d4b\u8bd5\u5de5\u5177\u89e3\u538b\u7f29\u540e\u4e0a\u4f20\u5230\u5ba2\u6237\u7aef\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u5b89\u88c5\u5728 /opt/client \u76ee\u5f55\u4e0b\uff0c\u90a3\u4e48\u5de5\u5177\u4e0a\u4f20\u7684\u8def\u5f84\u4e3a /opt/client/HDFS/hadoop/share/hadoop/mapreduce/ \u76ee\u5f55\u4e0b 6. \u6267\u884c\u5b89\u5168\u8ba4\u8bc1 source /opt/client/bigdata_env kinit pc 7. \u542f\u52a8\u6d4b\u8bd5 yarn jar /opt/client/HDFS/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.1.1-tests.jar nnbench \\ -operation create_write \\ -maps 10 \\ -reduces 2 \\ -bytesToWrite 1 \\ -numberOfFiles 100 \\ -blockSize 1048576 \\ -replicationFactorPerFile 3 \\ -readFileAfterOpen true \\ -baseDir /benchmarks1/NNBench \u53c2\u6570\u8bf4\u660e\uff1a -maps \u6307\u5b9aMR\u4efb\u52a1\u7684map\u6570\uff0c\u5fc5\u987b\u4fdd\u8bc1map\u6570\u90fd\u5728\u540c\u4e00\u8f6e\u5e76\u53d1\u4e2d\uff0c\u5426\u5219\u7ed3\u679c\u8ba1\u7b97\u6709\u8bef -reduces \u6307\u5b9aMR\u4efb\u52a1\u7684reduce\u6570\uff0c\u7ed3\u679c\u6c47\u603b\uff0c\u53ef\u5199\u4e00\u4e2a\u6bd4\u8f83\u5c0f\u7684\u6570\u5b57\uff0c\u4e0d\u5f71\u54cd\u7ed3\u679c -bytesToWrite \u521b\u5efa\u6587\u4ef6\u7684\u5b9e\u9645\u5927\u5c0f -numberOfFiles \u6bcf\u4e2amap\u4efb\u52a1\u521b\u5efa\u7684\u6587\u4ef6\u6570 -blockSize \u6587\u4ef6\u5757\u7684\u5927\u5c0f\uff0c\u9ed8\u8ba4\u662f128MB\uff0c\u8fd9\u91cc\u53d61048576\u5b57\u8282\u4e3a1MB -replicationFactorPerFile \u6587\u4ef6\u526f\u672c\u6570 -readFileAfterOpen \u662f\u5426\u8bfb\u53d6\u6587\u4ef6 -baseDir \u521b\u5efa\u7684HDFS\u4e0a\u7684\u8def\u5f84","title":"3.2 \u6d4b\u8bd5\u8fc7\u7a0b"},{"location":"HDFS/NNBench/NameNodeRandomWrite_6.5.1_Sec/#33","text":"\u6d4b\u8bd5\u5b8c\u6bd5\uff0c\u53c2\u8003\u5f53\u524d\u76ee\u5f55\u4e0b\u7684 NNBench_results.log \u5185\u5bb9\u83b7\u53d6Namenode\u5904\u7406\u6027\u80fd\u6570\u636e","title":"3.3 \u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c"},{"location":"HDFS/NNBench/NameNodeRandomWrite_6.5.1_UnSec/","text":"NameNode\u968f\u673a\u5199\u6027\u80fd\u6d4b\u8bd5 \u00b6 1. \u652f\u6301\u7248\u672c \u00b6 FusionInsight HD 6.5.1 2. \u5de5\u5177\u4e0b\u8f7d \u00b6 \u56e0\u6d89\u53ca\u6e90\u7801\u7f16\u8bd1\uff0c\u9700\u8c03\u7528\u5b9e\u9645\u6e90\u7801\uff0c\u8fc7\u7a0b\u6bd4\u8f83\u590d\u6742\uff0c\u6545\u8be5\u5de5\u5177\u7ed9\u51fa\u76f4\u63a5\u4e0b\u8f7d\u94fe\u63a5\uff1a \u30106.5.1\u5de5\u5177\u4e0b\u8f7d\u94fe\u63a5\u3011 \u6821\u9a8cmd5: 9b301864b41909b67b80d8f59d74ef32 hdfs-6.5.1.zip 3. \u6d4b\u8bd5\u6b65\u9aa4 \u00b6 3.1 \u524d\u7f6e\u6761\u4ef6 \u00b6 FI\u96c6\u7fa4\u5b89\u88c5\u4e3a\u5b89\u5168\u6a21\u5f0f\uff0c\u4e14\u8fd0\u884c\u6b63\u5e38 HDFS\u3001MapReduce\u3001Yarn\u670d\u52a1\u6b63\u5e38 \u5df2\u4e8elinux\u73af\u5883\u5b89\u88c5\u96c6\u7fa4\u5ba2\u6237\u7aef\uff0c\u5ba2\u6237\u7aef\u5b89\u88c5 [\u6b65\u9aa4\u53c2\u8003] 3.2 \u6d4b\u8bd5\u8fc7\u7a0b \u00b6 \u3010\u53ef\u9009\u3011\u53c2\u8003\u4ea7\u54c1\u6587\u6863\u4e2d\u201d\u89c4\u5212HDFS\u5bb9\u91cf\u201c\u90e8\u5206\uff0c\u4fee\u6539GC_OPTS\u7684\u53c2\u6570\uff1b \u4fee\u6539HDFS\u5982\u4e0b\u914d\u7f6e\u9879\uff0c\u91cd\u542f\u670d\u52a1 dfs.namenode.handler.count : 512 dfs.datanode.handler.count : 128 ipc.server.handler.queue.size : 200 dfs.namenode.fs-limits.max-directory-items : 6400000 3. \u4fee\u6539Yarn\u914d\u7f6e\u9879\uff0c\u91cd\u542f\u670d\u52a1 yarn.nodemanager.resource.cpu-vcores \u6839\u636e\u5b9e\u9645\u8282\u70b9\u7684CPU\u6838\u6570\u4fee\u6539 yarn.nodemanager.resource.memory-mb \u6839\u636e\u5b9e\u9645\u8282\u70b9\u7684\u5185\u5b58\u4fee\u6539 4. \u4fee\u6539\u79df\u6237\u8d44\u6e90\u6c60\u4e2d\u914d\u7f6e\u7684 Maximum AM Resource Percent \u4e3a 0.9 5. \u5c06\u6d4b\u8bd5\u5de5\u5177\u89e3\u538b\u7f29\u540e\u4e0a\u4f20\u5230\u5ba2\u6237\u7aef\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u5b89\u88c5\u5728 /opt/client \u76ee\u5f55\u4e0b\uff0c\u90a3\u4e48\u5de5\u5177\u4e0a\u4f20\u7684\u8def\u5f84\u4e3a /opt/client/HDFS/hadoop/share/hadoop/mapreduce/ \u76ee\u5f55\u4e0b 6. \u542f\u52a8\u6d4b\u8bd5 yarn jar /opt/client/HDFS/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.1.1-tests.jar nnbench \\ -operation create_write \\ -maps 10 \\ -reduces 2 \\ -bytesToWrite 1 \\ -numberOfFiles 100 \\ -blockSize 1048576 \\ -replicationFactorPerFile 3 \\ -readFileAfterOpen true \\ -baseDir /benchmarks1/NNBench \u53c2\u6570\u8bf4\u660e\uff1a -maps \u6307\u5b9aMR\u4efb\u52a1\u7684map\u6570\uff0c\u5fc5\u987b\u4fdd\u8bc1map\u6570\u90fd\u5728\u540c\u4e00\u8f6e\u5e76\u53d1\u4e2d\uff0c\u5426\u5219\u7ed3\u679c\u8ba1\u7b97\u6709\u8bef -reduces \u6307\u5b9aMR\u4efb\u52a1\u7684reduce\u6570\uff0c\u7ed3\u679c\u6c47\u603b\uff0c\u53ef\u5199\u4e00\u4e2a\u6bd4\u8f83\u5c0f\u7684\u6570\u5b57\uff0c\u4e0d\u5f71\u54cd\u7ed3\u679c -bytesToWrite \u521b\u5efa\u6587\u4ef6\u7684\u5b9e\u9645\u5927\u5c0f -numberOfFiles \u6bcf\u4e2amap\u4efb\u52a1\u521b\u5efa\u7684\u6587\u4ef6\u6570 -blockSize \u6587\u4ef6\u5757\u7684\u5927\u5c0f\uff0c\u9ed8\u8ba4\u662f128MB\uff0c\u8fd9\u91cc\u53d61048576\u5b57\u8282\u4e3a1MB -replicationFactorPerFile \u6587\u4ef6\u526f\u672c\u6570 -readFileAfterOpen \u662f\u5426\u8bfb\u53d6\u6587\u4ef6 -baseDir \u521b\u5efa\u7684HDFS\u4e0a\u7684\u8def\u5f84 3.3 \u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c \u00b6 \u6d4b\u8bd5\u5b8c\u6bd5\uff0c\u53c2\u8003\u5f53\u524d\u76ee\u5f55\u4e0b\u7684 NNBench_results.log \u5185\u5bb9\u83b7\u53d6Namenode\u5904\u7406\u6027\u80fd\u6570\u636e","title":"NameNode\u968f\u673a\u5199\u6027\u80fd\u6d4b\u8bd5"},{"location":"HDFS/NNBench/NameNodeRandomWrite_6.5.1_UnSec/#namenode","text":"","title":"NameNode\u968f\u673a\u5199\u6027\u80fd\u6d4b\u8bd5"},{"location":"HDFS/NNBench/NameNodeRandomWrite_6.5.1_UnSec/#1","text":"FusionInsight HD 6.5.1","title":"1. \u652f\u6301\u7248\u672c"},{"location":"HDFS/NNBench/NameNodeRandomWrite_6.5.1_UnSec/#2","text":"\u56e0\u6d89\u53ca\u6e90\u7801\u7f16\u8bd1\uff0c\u9700\u8c03\u7528\u5b9e\u9645\u6e90\u7801\uff0c\u8fc7\u7a0b\u6bd4\u8f83\u590d\u6742\uff0c\u6545\u8be5\u5de5\u5177\u7ed9\u51fa\u76f4\u63a5\u4e0b\u8f7d\u94fe\u63a5\uff1a \u30106.5.1\u5de5\u5177\u4e0b\u8f7d\u94fe\u63a5\u3011 \u6821\u9a8cmd5: 9b301864b41909b67b80d8f59d74ef32 hdfs-6.5.1.zip","title":"2. \u5de5\u5177\u4e0b\u8f7d"},{"location":"HDFS/NNBench/NameNodeRandomWrite_6.5.1_UnSec/#3","text":"","title":"3. \u6d4b\u8bd5\u6b65\u9aa4"},{"location":"HDFS/NNBench/NameNodeRandomWrite_6.5.1_UnSec/#31","text":"FI\u96c6\u7fa4\u5b89\u88c5\u4e3a\u5b89\u5168\u6a21\u5f0f\uff0c\u4e14\u8fd0\u884c\u6b63\u5e38 HDFS\u3001MapReduce\u3001Yarn\u670d\u52a1\u6b63\u5e38 \u5df2\u4e8elinux\u73af\u5883\u5b89\u88c5\u96c6\u7fa4\u5ba2\u6237\u7aef\uff0c\u5ba2\u6237\u7aef\u5b89\u88c5 [\u6b65\u9aa4\u53c2\u8003]","title":"3.1 \u524d\u7f6e\u6761\u4ef6"},{"location":"HDFS/NNBench/NameNodeRandomWrite_6.5.1_UnSec/#32","text":"\u3010\u53ef\u9009\u3011\u53c2\u8003\u4ea7\u54c1\u6587\u6863\u4e2d\u201d\u89c4\u5212HDFS\u5bb9\u91cf\u201c\u90e8\u5206\uff0c\u4fee\u6539GC_OPTS\u7684\u53c2\u6570\uff1b \u4fee\u6539HDFS\u5982\u4e0b\u914d\u7f6e\u9879\uff0c\u91cd\u542f\u670d\u52a1 dfs.namenode.handler.count : 512 dfs.datanode.handler.count : 128 ipc.server.handler.queue.size : 200 dfs.namenode.fs-limits.max-directory-items : 6400000 3. \u4fee\u6539Yarn\u914d\u7f6e\u9879\uff0c\u91cd\u542f\u670d\u52a1 yarn.nodemanager.resource.cpu-vcores \u6839\u636e\u5b9e\u9645\u8282\u70b9\u7684CPU\u6838\u6570\u4fee\u6539 yarn.nodemanager.resource.memory-mb \u6839\u636e\u5b9e\u9645\u8282\u70b9\u7684\u5185\u5b58\u4fee\u6539 4. \u4fee\u6539\u79df\u6237\u8d44\u6e90\u6c60\u4e2d\u914d\u7f6e\u7684 Maximum AM Resource Percent \u4e3a 0.9 5. \u5c06\u6d4b\u8bd5\u5de5\u5177\u89e3\u538b\u7f29\u540e\u4e0a\u4f20\u5230\u5ba2\u6237\u7aef\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u5b89\u88c5\u5728 /opt/client \u76ee\u5f55\u4e0b\uff0c\u90a3\u4e48\u5de5\u5177\u4e0a\u4f20\u7684\u8def\u5f84\u4e3a /opt/client/HDFS/hadoop/share/hadoop/mapreduce/ \u76ee\u5f55\u4e0b 6. \u542f\u52a8\u6d4b\u8bd5 yarn jar /opt/client/HDFS/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.1.1-tests.jar nnbench \\ -operation create_write \\ -maps 10 \\ -reduces 2 \\ -bytesToWrite 1 \\ -numberOfFiles 100 \\ -blockSize 1048576 \\ -replicationFactorPerFile 3 \\ -readFileAfterOpen true \\ -baseDir /benchmarks1/NNBench \u53c2\u6570\u8bf4\u660e\uff1a -maps \u6307\u5b9aMR\u4efb\u52a1\u7684map\u6570\uff0c\u5fc5\u987b\u4fdd\u8bc1map\u6570\u90fd\u5728\u540c\u4e00\u8f6e\u5e76\u53d1\u4e2d\uff0c\u5426\u5219\u7ed3\u679c\u8ba1\u7b97\u6709\u8bef -reduces \u6307\u5b9aMR\u4efb\u52a1\u7684reduce\u6570\uff0c\u7ed3\u679c\u6c47\u603b\uff0c\u53ef\u5199\u4e00\u4e2a\u6bd4\u8f83\u5c0f\u7684\u6570\u5b57\uff0c\u4e0d\u5f71\u54cd\u7ed3\u679c -bytesToWrite \u521b\u5efa\u6587\u4ef6\u7684\u5b9e\u9645\u5927\u5c0f -numberOfFiles \u6bcf\u4e2amap\u4efb\u52a1\u521b\u5efa\u7684\u6587\u4ef6\u6570 -blockSize \u6587\u4ef6\u5757\u7684\u5927\u5c0f\uff0c\u9ed8\u8ba4\u662f128MB\uff0c\u8fd9\u91cc\u53d61048576\u5b57\u8282\u4e3a1MB -replicationFactorPerFile \u6587\u4ef6\u526f\u672c\u6570 -readFileAfterOpen \u662f\u5426\u8bfb\u53d6\u6587\u4ef6 -baseDir \u521b\u5efa\u7684HDFS\u4e0a\u7684\u8def\u5f84","title":"3.2 \u6d4b\u8bd5\u8fc7\u7a0b"},{"location":"HDFS/NNBench/NameNodeRandomWrite_6.5.1_UnSec/#33","text":"\u6d4b\u8bd5\u5b8c\u6bd5\uff0c\u53c2\u8003\u5f53\u524d\u76ee\u5f55\u4e0b\u7684 NNBench_results.log \u5185\u5bb9\u83b7\u53d6Namenode\u5904\u7406\u6027\u80fd\u6570\u636e","title":"3.3 \u67e5\u770b\u6d4b\u8bd5\u7ed3\u679c"},{"location":"HDFS/TestDFSIO/TestDFSIO_introduction/","text":"TestDFSIO\u5de5\u5177\u4ecb\u7ecd \u00b6 1. \u7b80\u4ecb \u00b6 TestDFSIO \u5de5\u5177\u4e3aHadoop\u6e90\u7801\u4e2d\u81ea\u5e26\u7684\u4e00\u79cd\u6d4b\u8bd5\u5de5\u5177\uff0c\u53ef\u4ee5\u901a\u8fc7\u6e90\u7801\u6784\u5efa\u83b7\u5f97\uff0c\u5de5\u5177\u540d\u79f0\u4e00\u822c\u4e3a hadoop-mapreduce-client-jobclient-[\u7248\u672c\u53f7]-test.jar \u3002 \u5f00\u6e90hadoop\u6e90\u7801\u5730\u5740\uff1a https://github.com/apache/hadoop \u5f00\u6e90\u7f16\u8bd1\u6784\u5efa\u8fc7\u7a0b\u53ef\u53c2\u8003\uff1a https://www.cnblogs.com/bclshuai/p/12009991.html TestDFSIO\u4f5c\u4e3a\u4e00\u79cd\u5206\u5e03\u5f0fI/O Benchmark\u6d4b\u8bd5\u5de5\u5177\u3002 2. \u4f7f\u7528\u6307\u5bfc \u00b6 \u8be5\u5de5\u5177\u901a\u8fc7\u547d\u4ee4\u884c\u5f62\u5f0f\u4f7f\u7528\uff0c\u4f7f\u7528\u53c2\u8003\uff1a #yarn jar /opt/client/HDFS/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.1.1-tests.jar TestDFSIO Usage: TestDFSIO [ genericOptions ] -read [ -random | -backward | -skip [ -skipSize Size ]] | -write | -append | -truncate | -clean [ -compression codecClassName ] [ -nrFiles N ] [ -size Size [ B | KB | MB | GB | TB ]] [ -resFile resultFileName ] [ -bufferSize Bytes ] [ -storagePolicy storagePolicyName ] [ -erasureCodePolicy erasureCodePolicyName ] genericOptions \u901a\u7528\u9009\u9879\uff0c\u53c2\u8003 \u5982\u4e0b -read \u8bfb\u6d4b\u8bd5 -write \u5199\u6d4b\u8bd5 -append \u8ffd\u52a0\u6d4b\u8bd5\uff0c\u6bcf\u4e2a\u6587\u4ef6\u8ffd\u52a0-size\u6307\u5b9a\u7684\u6570\u636e\u91cf -truncate \u622a\u65ad\u6d4b\u8bd5\uff0c\u6bcf\u4e2a\u6587\u4ef6\u622a\u65ad\u81f3-size\u6307\u5b9a\u7684\u6570\u636e\u91cf -clean\uff1a\u6e05\u9664TestDFSIO\u5728HDFS\u4e0a\u751f\u6210\u6570\u636e -n\uff1a\u6587\u4ef6\u4e2a\u6570 -size\uff1a\u6bcf\u4e2a\u6587\u4ef6\u7684\u5927\u5c0f -resFile\uff1a\u751f\u6210\u6d4b\u8bd5\u62a5\u544a\u7684\u672c\u5730\u6587\u4ef6\u8def\u5f84 -bufferSize\uff1a\u6bcf\u4e2amapper\u4efb\u52a1\u8bfb\u5199\u6587\u4ef6\u6240\u7528\u5230\u7684\u7f13\u5b58\u533a\u5927\u5c0f\uff0c\u9ed8\u8ba4\u4e3a1000000\u5b57\u8282\u3002 3. \u53c2\u8003 \u00b6 http://blog.sina.com.cn/s/blog_72ef7bea0102vr44.html https://hadoop.apache.org/docs/r3.1.1/hadoop-project-dist/hadoop-common/CommandsManual.html#Generic_Options","title":"TestDFSIO\u5de5\u5177\u4ecb\u7ecd"},{"location":"HDFS/TestDFSIO/TestDFSIO_introduction/#testdfsio","text":"","title":"TestDFSIO\u5de5\u5177\u4ecb\u7ecd"},{"location":"HDFS/TestDFSIO/TestDFSIO_introduction/#1","text":"TestDFSIO \u5de5\u5177\u4e3aHadoop\u6e90\u7801\u4e2d\u81ea\u5e26\u7684\u4e00\u79cd\u6d4b\u8bd5\u5de5\u5177\uff0c\u53ef\u4ee5\u901a\u8fc7\u6e90\u7801\u6784\u5efa\u83b7\u5f97\uff0c\u5de5\u5177\u540d\u79f0\u4e00\u822c\u4e3a hadoop-mapreduce-client-jobclient-[\u7248\u672c\u53f7]-test.jar \u3002 \u5f00\u6e90hadoop\u6e90\u7801\u5730\u5740\uff1a https://github.com/apache/hadoop \u5f00\u6e90\u7f16\u8bd1\u6784\u5efa\u8fc7\u7a0b\u53ef\u53c2\u8003\uff1a https://www.cnblogs.com/bclshuai/p/12009991.html TestDFSIO\u4f5c\u4e3a\u4e00\u79cd\u5206\u5e03\u5f0fI/O Benchmark\u6d4b\u8bd5\u5de5\u5177\u3002","title":"1. \u7b80\u4ecb"},{"location":"HDFS/TestDFSIO/TestDFSIO_introduction/#2","text":"\u8be5\u5de5\u5177\u901a\u8fc7\u547d\u4ee4\u884c\u5f62\u5f0f\u4f7f\u7528\uff0c\u4f7f\u7528\u53c2\u8003\uff1a #yarn jar /opt/client/HDFS/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.1.1-tests.jar TestDFSIO Usage: TestDFSIO [ genericOptions ] -read [ -random | -backward | -skip [ -skipSize Size ]] | -write | -append | -truncate | -clean [ -compression codecClassName ] [ -nrFiles N ] [ -size Size [ B | KB | MB | GB | TB ]] [ -resFile resultFileName ] [ -bufferSize Bytes ] [ -storagePolicy storagePolicyName ] [ -erasureCodePolicy erasureCodePolicyName ] genericOptions \u901a\u7528\u9009\u9879\uff0c\u53c2\u8003 \u5982\u4e0b -read \u8bfb\u6d4b\u8bd5 -write \u5199\u6d4b\u8bd5 -append \u8ffd\u52a0\u6d4b\u8bd5\uff0c\u6bcf\u4e2a\u6587\u4ef6\u8ffd\u52a0-size\u6307\u5b9a\u7684\u6570\u636e\u91cf -truncate \u622a\u65ad\u6d4b\u8bd5\uff0c\u6bcf\u4e2a\u6587\u4ef6\u622a\u65ad\u81f3-size\u6307\u5b9a\u7684\u6570\u636e\u91cf -clean\uff1a\u6e05\u9664TestDFSIO\u5728HDFS\u4e0a\u751f\u6210\u6570\u636e -n\uff1a\u6587\u4ef6\u4e2a\u6570 -size\uff1a\u6bcf\u4e2a\u6587\u4ef6\u7684\u5927\u5c0f -resFile\uff1a\u751f\u6210\u6d4b\u8bd5\u62a5\u544a\u7684\u672c\u5730\u6587\u4ef6\u8def\u5f84 -bufferSize\uff1a\u6bcf\u4e2amapper\u4efb\u52a1\u8bfb\u5199\u6587\u4ef6\u6240\u7528\u5230\u7684\u7f13\u5b58\u533a\u5927\u5c0f\uff0c\u9ed8\u8ba4\u4e3a1000000\u5b57\u8282\u3002","title":"2. \u4f7f\u7528\u6307\u5bfc"},{"location":"HDFS/TestDFSIO/TestDFSIO_introduction/#3","text":"http://blog.sina.com.cn/s/blog_72ef7bea0102vr44.html https://hadoop.apache.org/docs/r3.1.1/hadoop-project-dist/hadoop-common/CommandsManual.html#Generic_Options","title":"3. \u53c2\u8003"}]}